<?= base_url("assets/admin/adminlte/")?>


best waifu 
https://static.wikia.nocookie.net/reverse1999/images/5/5b/TTT.png/revision/latest?cb=20231105091253



	public function keranjang()
	{
		$this->db->from('produk')->where('id_produk', $this->input->post('id_produk'),);
		$harga = $this->db->get()->row()->harga;
		$this->db->from('produk')->where('id_produk', $this->input->post('id_produk'),);
		$stok_lama = $this->db->get()->row()->stok;
		$stok_now  = $stok_lama - $this->input->post('jumlah');
		$sub_total = $this->input->post('jumlah') * $harga;
		$data = array(
			'kode_penjualan' 	=> $this->input->post('kode_penjualan'),
			'id_produk' 		=> $this->input->post('id_produk'),
			'jumlah' 			=> $this->input->post('jumlah'),
			'sub_total' 		=> $sub_total,
		);
		$this->db->insert('detail_penjualan', $data());
		$data2 = array('stok' => $stok_now);
		$where = array('id_produk' => $this->input->post('id_produk'));
		$this->db->update('produk', $data2,$where);
		$this->session->set_flashdata('notivikasi', '
		<div class="alert alert-success alert-dismissible fade show" role="alert">
			<strong>Data Produk Berhasil di Tambahkan ke Keranjang</strong>
			<button type="button" class="close" data-dismiss="alert" aria-label="Close">
				<span aria-hidden="true">&times;</span>
			</button>
		</div>
		');
		redirect($_SERVER['HTTPS_REFERES']);
	}


	
	public function keranjang()
	{
		$this->db->from('produk')->where('id_produk', $this->input->post('id_produk'));
		$produk = $this->db->get()->row();

		if ($produk) { 
			$harga = $produk->harga;
			$stok_lama = $produk->stok;

			$stok_now = $stok_lama - $this->input->post('jumlah');
			$sub_total = $this->input->post('jumlah') * $harga;
			$data = array(
				'kode_penjualan'   => $this->input->post('kode_penjualan'),
				'id_produk'        => $this->input->post('id_produk'),
				'jumlah'           => $this->input->post('jumlah'),
				'sub_total'        => $sub_total,
			);

			$this->db->insert('detail_penjualan', $data);

			$data2 = array('stok' => $stok_now);
			$where = array('id_produk' => $this->input->post('id_produk'));
			$this->db->update('produk', $data2, $where);

			$this->session->set_flashdata('notivikasi', '
	        <div class="alert alert-success alert-dismissible fade show" role="alert">
	            <strong>Data Produk Berhasil di Tambahkan ke Keranjang</strong>
	            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
	                <span aria-hidden="true">&times;</span>
	            </button>
	        </div>
	    ');
			redirect($_SERVER['HTTP_REFERER']);
		}
	}



			$this->session->set_flashdata('notivikasi', '
			<div class="alert alert-danger alert-dismissible fade show" role="alert">
				<strong>Jumlah produk yang ditambahkan melebihi stok</strong>
				<button type="button" class="close" data-dismiss="alert" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>'



=========================================================================================================================

Praktik, membuat web rekap suara didalam projek kasir yg sudah kalian kerjakan(Jadi tidak perlu repot template layout).
Terdapat 1 tabel yaitu suara yg berisi kolom 
1. total
2. total_sah
3. total _tidaksah
4. no1
5. no2
6. no3
7. nama_tps
Yang perlu kalian kerjakan hanyalah buatlah form untuk menginput data diatas ke tabel suara, akan tetapi terdapat berbagai macam alert untuk mengantisipasi kesalahan input :
1. alert "total jumlah suara salah", dimana syaratnya adalah total = total_sah+total_tdksah
2. alert "total jumlah suara pada tiap nomor terdapat kesalahan", dimana syaratnya adalah total_sah =no1+no2+no3
Bonuss tambahin chart di dashboard yg menampilkan chart polling suara

 $this->db->insert('suara', $data);
            $this->session->set_flashdata('notivikasi', '
            <div class="alert alert-success alert-dismissible fade show" role="alert">
                <strong>Data Suara Berhasil di Tambahkan</strong>
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            ');
        } else {
            $this->session->set_flashdata('notivikasi', '
            <div class="alert alert-danger alert-dismissible fade show" role="alert">
                <strong>Nama Tps Sudah Ada</strong>
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            ');
        }
        redirect('suara');
    }